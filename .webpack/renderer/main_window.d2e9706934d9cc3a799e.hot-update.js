"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdateclipforge"]("main_window",{

/***/ "./src/components/ClipBlock.jsx":
/*!**************************************!*\
  !*** ./src/components/ClipBlock.jsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ClipBlock)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lucide-react */ \"./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n/* harmony import */ var _utils_formatters__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/formatters */ \"./src/utils/formatters.js\");\n/* harmony import */ var _utils_timelineUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/timelineUtils */ \"./src/utils/timelineUtils.js\");\n/* harmony import */ var _hooks_useThumbnailPreload__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../hooks/useThumbnailPreload */ \"./src/hooks/useThumbnailPreload.js\");\n/* harmony import */ var _Tooltip__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Tooltip */ \"./src/components/Tooltip.jsx\");\n/* harmony import */ var _ClipBlock_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ClipBlock.css */ \"./src/components/ClipBlock.css\");\n\n\n\n\n\n\n\n\n/**\n * ClipBlock Component\n * Individual clip block in the horizontal timeline\n */\nfunction ClipBlock({\n  clip,\n  isSelected,\n  onSelect,\n  onDelete,\n  width,\n  position,\n  zoomLevel,\n  snapToGrid,\n  onTrimChange\n}) {\n  const [isDraggingEdge, setIsDraggingEdge] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [draggingEdge, setDraggingEdge] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null); // 'left' or 'right'\n  const [draftTrimStart, setDraftTrimStart] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(clip.trimStart);\n  const [draftTrimEnd, setDraftTrimEnd] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(clip.trimEnd);\n  const [tooltip, setTooltip] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    visible: false,\n    x: 0,\n    y: 0,\n    timeSeconds: 0,\n    message: ''\n  });\n  const [isHovered, setIsHovered] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [hoverCard, setHoverCard] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    visible: false,\n    x: 0,\n    y: 0\n  });\n  const blockRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const startXRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n  const originalTrimStartRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n  const originalTrimEndRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n\n  // Use thumbnail preloading hook\n  const {\n    elementRef,\n    isLoaded,\n    hasError,\n    cachedSrc\n  } = (0,_hooks_useThumbnailPreload__WEBPACK_IMPORTED_MODULE_4__.useThumbnailPreload)(clip.id, clip.thumbnail);\n\n  // Update draft values when clip changes\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    setDraftTrimStart(clip.trimStart);\n    setDraftTrimEnd(clip.trimEnd);\n  }, [clip.trimStart, clip.trimEnd]);\n\n  // Handle edge drag start\n  const handleEdgeMouseDown = (e, edge) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDraggingEdge(true);\n    setDraggingEdge(edge);\n    startXRef.current = e.clientX;\n    originalTrimStartRef.current = clip.trimStart;\n    originalTrimEndRef.current = clip.trimEnd;\n\n    // Show tooltip\n    const rect = blockRef.current?.getBoundingClientRect();\n    if (rect) {\n      setTooltip({\n        visible: true,\n        x: e.clientX,\n        y: rect.top,\n        timeSeconds: edge === 'left' ? clip.trimStart : clip.trimEnd,\n        message: `Dragging ${edge} edge`\n      });\n    }\n  };\n\n  // Handle mouse move during edge drag\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const handleMouseMove = e => {\n      if (!isDraggingEdge || !draggingEdge) return;\n      const deltaX = e.clientX - startXRef.current;\n      const deltaTime = (0,_utils_timelineUtils__WEBPACK_IMPORTED_MODULE_3__.pxToTime)(deltaX, zoomLevel);\n      let newTrimStart = originalTrimStartRef.current;\n      let newTrimEnd = originalTrimEndRef.current;\n      if (draggingEdge === 'left') {\n        newTrimStart = Math.max(0, originalTrimStartRef.current + deltaTime);\n        newTrimStart = (0,_utils_timelineUtils__WEBPACK_IMPORTED_MODULE_3__.snap)(newTrimStart, snapToGrid);\n      } else if (draggingEdge === 'right') {\n        newTrimEnd = Math.min(clip.duration, originalTrimEndRef.current + deltaTime);\n        newTrimEnd = (0,_utils_timelineUtils__WEBPACK_IMPORTED_MODULE_3__.snap)(newTrimEnd, snapToGrid);\n      }\n\n      // Validate trim range\n      const validation = (0,_utils_timelineUtils__WEBPACK_IMPORTED_MODULE_3__.validateTrimRange)(newTrimStart, newTrimEnd, clip.duration);\n      if (validation.isValid) {\n        setDraftTrimStart(newTrimStart);\n        setDraftTrimEnd(newTrimEnd);\n\n        // Update tooltip\n        setTooltip(prev => ({\n          ...prev,\n          x: e.clientX,\n          timeSeconds: draggingEdge === 'left' ? newTrimStart : newTrimEnd,\n          message: validation.message\n        }));\n      } else {\n        // Show invalid state\n        setTooltip(prev => ({\n          ...prev,\n          x: e.clientX,\n          message: validation.message\n        }));\n      }\n    };\n    const handleMouseUp = () => {\n      if (!isDraggingEdge) return;\n\n      // Validate final trim range\n      const validation = (0,_utils_timelineUtils__WEBPACK_IMPORTED_MODULE_3__.validateTrimRange)(draftTrimStart, draftTrimEnd, clip.duration);\n      if (validation.isValid && onTrimChange) {\n        onTrimChange(clip.id, draftTrimStart, draftTrimEnd);\n      }\n\n      // Reset state\n      setIsDraggingEdge(false);\n      setDraggingEdge(null);\n      setTooltip({\n        visible: false,\n        x: 0,\n        y: 0,\n        timeSeconds: 0,\n        message: ''\n      });\n    };\n    if (isDraggingEdge) {\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n    }\n    return () => {\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [isDraggingEdge, draggingEdge, draftTrimStart, draftTrimEnd, clip.id, clip.duration, zoomLevel, snapToGrid, onTrimChange]);\n  const handleClick = e => {\n    e.stopPropagation();\n    onSelect();\n  };\n  const handleDelete = e => {\n    e.stopPropagation();\n    onDelete();\n  };\n  const handleMouseEnter = e => {\n    setIsHovered(true);\n\n    // Show hover card with full filename and original duration\n    if (!isDraggingEdge && blockRef.current) {\n      const rect = blockRef.current.getBoundingClientRect();\n      setHoverCard({\n        visible: true,\n        x: rect.left + rect.width / 2,\n        y: rect.top - 50 // Position well above the clip\n      });\n    }\n  };\n  const handleMouseLeave = () => {\n    setIsHovered(false);\n    setHoverCard({\n      visible: false,\n      x: 0,\n      y: 0\n    });\n    if (!isDraggingEdge) {\n      setTooltip({\n        visible: false,\n        x: 0,\n        y: 0,\n        timeSeconds: 0,\n        message: ''\n      });\n    }\n  };\n\n  // Calculate current width based on draft trim values\n  const currentWidth = (0,_utils_timelineUtils__WEBPACK_IMPORTED_MODULE_3__.timeToPx)(draftTrimEnd - draftTrimStart, zoomLevel);\n  const currentPosition = position; // TrackArea handles trimStart positioning\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    ref: blockRef,\n    className: `clip-block ${isSelected ? 'selected' : ''} ${isDraggingEdge ? 'dragging' : ''} ${isHovered ? 'hovered' : ''}`,\n    style: {\n      width: `${currentWidth}px`,\n      left: `${currentPosition}px`,\n      minWidth: '20px' // Ensure minimum visibility\n    },\n    onClick: handleClick,\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    role: \"listitem\",\n    tabIndex: 0,\n    onKeyDown: e => {\n      if (e.key === 'Enter' || e.key === ' ') {\n        e.preventDefault();\n        onSelect();\n      }\n    },\n    \"aria-label\": `Clip: ${clip.fileName}, Duration: ${(0,_utils_formatters__WEBPACK_IMPORTED_MODULE_2__.formatDuration)(clip.duration)}`\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: `trim-handle left ${isHovered || isDraggingEdge ? 'visible' : ''}`,\n    onMouseDown: e => handleEdgeMouseDown(e, 'left'),\n    title: \"Drag to trim start\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: `trim-handle right ${isHovered || isDraggingEdge ? 'visible' : ''}`,\n    onMouseDown: e => handleEdgeMouseDown(e, 'right'),\n    title: \"Drag to trim end\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"clip-thumbnail\",\n    ref: elementRef,\n    style: isLoaded && cachedSrc ? {\n      backgroundImage: `url(${cachedSrc})`,\n      backgroundSize: 'auto 100%',\n      backgroundRepeat: 'repeat-x',\n      backgroundPosition: 'left center'\n    } : {}\n  }, isLoaded && cachedSrc ? null : hasError ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"thumbnail-placeholder error\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, \"\\uD83D\\uDCF9\")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"thumbnail-placeholder loading\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, \"\\u23F3\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"clip-filename-overlay\"\n  }, (0,_utils_formatters__WEBPACK_IMPORTED_MODULE_2__.ellipsize)(clip.fileName, 15)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"clip-duration-overlay\"\n  }, (0,_utils_formatters__WEBPACK_IMPORTED_MODULE_2__.formatTrimmedDuration)(draftTrimStart, draftTrimEnd)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"clip-delete\",\n    onClick: handleDelete,\n    title: \"Delete clip\",\n    \"aria-label\": `Delete ${clip.fileName}`\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(lucide_react__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    size: 12\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Tooltip__WEBPACK_IMPORTED_MODULE_5__[\"default\"], tooltip), hoverCard.visible && !isDraggingEdge && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"clip-hover-card\",\n    style: {\n      left: `${hoverCard.x}px`,\n      top: `${hoverCard.y}px`,\n      transform: 'translateX(-50%)'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"hover-card-content\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"hover-card-filename\"\n  }, clip.fileName), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"hover-card-duration\"\n  }, \"Original: \", (0,_utils_formatters__WEBPACK_IMPORTED_MODULE_2__.formatDuration)(clip.duration)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"hover-card-trimmed\"\n  }, \"Trimmed: \", (0,_utils_formatters__WEBPACK_IMPORTED_MODULE_2__.formatTrimmedDuration)(draftTrimStart, draftTrimEnd))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"hover-card-arrow\"\n  })));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMzQkMsS0FBSyxFQUFFO01BQ0xSLElBQUksRUFBRSxHQUFHekMsU0FBUyxDQUFDTixDQUFDLElBQUk7TUFDeEIyQixHQUFHLEVBQUUsR0FBR3JCLFNBQVMsQ0FBQ0wsQ0FBQyxJQUFJO01BQ3ZCdUUsU0FBUyxFQUFFO0lBQ2I7RUFBRSxnQkFFRjdHLDBEQUFBO0lBQUsyRixTQUFTLEVBQUM7RUFBb0IsZ0JBQ2pDM0YsMERBQUE7SUFBSzJGLFNBQVMsRUFBQztFQUFxQixHQUFFNUUsSUFBSSxDQUFDc0YsUUFBYyxDQUFDLGVBQzFEckcsMERBQUE7SUFBSzJGLFNBQVMsRUFBQztFQUFxQixHQUFDLFlBQ3pCLEVBQUN0RixpRUFBYyxDQUFDVSxJQUFJLENBQUMwRCxRQUFRLENBQ3BDLENBQUMsZUFDTnpFLDBEQUFBO0lBQUsyRixTQUFTLEVBQUM7RUFBb0IsR0FBQyxXQUN6QixFQUFDcEYsd0VBQXFCLENBQUNxQixjQUFjLEVBQUVHLFlBQVksQ0FDekQsQ0FDRixDQUFDLGVBQ04vQiwwREFBQTtJQUFLMkYsU0FBUyxFQUFDO0VBQWtCLENBQU0sQ0FDcEMsQ0FFUCxDQUFDO0FBRVAiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbGlwZm9yZ2UvLi9zcmMvY29tcG9uZW50cy9DbGlwQmxvY2suanN4Pzc3NzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRyYXNoMiB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgeyBmb3JtYXREdXJhdGlvbiwgZWxsaXBzaXplLCBmb3JtYXRUcmltbWVkRHVyYXRpb24gfSBmcm9tICcuLi91dGlscy9mb3JtYXR0ZXJzJztcbmltcG9ydCB7IHRpbWVUb1B4LCBweFRvVGltZSwgc25hcCwgdmFsaWRhdGVUcmltUmFuZ2UgfSBmcm9tICcuLi91dGlscy90aW1lbGluZVV0aWxzJztcbmltcG9ydCB7IHVzZVRodW1ibmFpbFByZWxvYWQgfSBmcm9tICcuLi9ob29rcy91c2VUaHVtYm5haWxQcmVsb2FkJztcbmltcG9ydCBUb29sdGlwIGZyb20gJy4vVG9vbHRpcCc7XG5pbXBvcnQgJy4vQ2xpcEJsb2NrLmNzcyc7XG5cbi8qKlxuICogQ2xpcEJsb2NrIENvbXBvbmVudFxuICogSW5kaXZpZHVhbCBjbGlwIGJsb2NrIGluIHRoZSBob3Jpem9udGFsIHRpbWVsaW5lXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENsaXBCbG9jayh7IFxuICBjbGlwLCBcbiAgaXNTZWxlY3RlZCwgXG4gIG9uU2VsZWN0LCBcbiAgb25EZWxldGUsIFxuICB3aWR0aCwgXG4gIHBvc2l0aW9uLFxuICB6b29tTGV2ZWwsXG4gIHNuYXBUb0dyaWQsXG4gIG9uVHJpbUNoYW5nZVxufSkge1xuICBjb25zdCBbaXNEcmFnZ2luZ0VkZ2UsIHNldElzRHJhZ2dpbmdFZGdlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2RyYWdnaW5nRWRnZSwgc2V0RHJhZ2dpbmdFZGdlXSA9IHVzZVN0YXRlKG51bGwpOyAvLyAnbGVmdCcgb3IgJ3JpZ2h0J1xuICBjb25zdCBbZHJhZnRUcmltU3RhcnQsIHNldERyYWZ0VHJpbVN0YXJ0XSA9IHVzZVN0YXRlKGNsaXAudHJpbVN0YXJ0KTtcbiAgY29uc3QgW2RyYWZ0VHJpbUVuZCwgc2V0RHJhZnRUcmltRW5kXSA9IHVzZVN0YXRlKGNsaXAudHJpbUVuZCk7XG4gIGNvbnN0IFt0b29sdGlwLCBzZXRUb29sdGlwXSA9IHVzZVN0YXRlKHsgdmlzaWJsZTogZmFsc2UsIHg6IDAsIHk6IDAsIHRpbWVTZWNvbmRzOiAwLCBtZXNzYWdlOiAnJyB9KTtcbiAgY29uc3QgW2lzSG92ZXJlZCwgc2V0SXNIb3ZlcmVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2hvdmVyQ2FyZCwgc2V0SG92ZXJDYXJkXSA9IHVzZVN0YXRlKHsgdmlzaWJsZTogZmFsc2UsIHg6IDAsIHk6IDAgfSk7XG4gIFxuICBjb25zdCBibG9ja1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3Qgc3RhcnRYUmVmID0gdXNlUmVmKDApO1xuICBjb25zdCBvcmlnaW5hbFRyaW1TdGFydFJlZiA9IHVzZVJlZigwKTtcbiAgY29uc3Qgb3JpZ2luYWxUcmltRW5kUmVmID0gdXNlUmVmKDApO1xuICBcbiAgLy8gVXNlIHRodW1ibmFpbCBwcmVsb2FkaW5nIGhvb2tcbiAgY29uc3QgeyBlbGVtZW50UmVmLCBpc0xvYWRlZCwgaGFzRXJyb3IsIGNhY2hlZFNyYyB9ID0gdXNlVGh1bWJuYWlsUHJlbG9hZChjbGlwLmlkLCBjbGlwLnRodW1ibmFpbCk7XG4gIFxuICAvLyBVcGRhdGUgZHJhZnQgdmFsdWVzIHdoZW4gY2xpcCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0RHJhZnRUcmltU3RhcnQoY2xpcC50cmltU3RhcnQpO1xuICAgIHNldERyYWZ0VHJpbUVuZChjbGlwLnRyaW1FbmQpO1xuICB9LCBbY2xpcC50cmltU3RhcnQsIGNsaXAudHJpbUVuZF0pO1xuXG4gIC8vIEhhbmRsZSBlZGdlIGRyYWcgc3RhcnRcbiAgY29uc3QgaGFuZGxlRWRnZU1vdXNlRG93biA9IChlLCBlZGdlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgXG4gICAgc2V0SXNEcmFnZ2luZ0VkZ2UodHJ1ZSk7XG4gICAgc2V0RHJhZ2dpbmdFZGdlKGVkZ2UpO1xuICAgIHN0YXJ0WFJlZi5jdXJyZW50ID0gZS5jbGllbnRYO1xuICAgIG9yaWdpbmFsVHJpbVN0YXJ0UmVmLmN1cnJlbnQgPSBjbGlwLnRyaW1TdGFydDtcbiAgICBvcmlnaW5hbFRyaW1FbmRSZWYuY3VycmVudCA9IGNsaXAudHJpbUVuZDtcbiAgICBcbiAgICAvLyBTaG93IHRvb2x0aXBcbiAgICBjb25zdCByZWN0ID0gYmxvY2tSZWYuY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaWYgKHJlY3QpIHtcbiAgICAgIHNldFRvb2x0aXAoe1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICB4OiBlLmNsaWVudFgsXG4gICAgICAgIHk6IHJlY3QudG9wLFxuICAgICAgICB0aW1lU2Vjb25kczogZWRnZSA9PT0gJ2xlZnQnID8gY2xpcC50cmltU3RhcnQgOiBjbGlwLnRyaW1FbmQsXG4gICAgICAgIG1lc3NhZ2U6IGBEcmFnZ2luZyAke2VkZ2V9IGVkZ2VgXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGFuZGxlIG1vdXNlIG1vdmUgZHVyaW5nIGVkZ2UgZHJhZ1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZU1vdXNlTW92ZSA9IChlKSA9PiB7XG4gICAgICBpZiAoIWlzRHJhZ2dpbmdFZGdlIHx8ICFkcmFnZ2luZ0VkZ2UpIHJldHVybjtcblxuICAgICAgY29uc3QgZGVsdGFYID0gZS5jbGllbnRYIC0gc3RhcnRYUmVmLmN1cnJlbnQ7XG4gICAgICBjb25zdCBkZWx0YVRpbWUgPSBweFRvVGltZShkZWx0YVgsIHpvb21MZXZlbCk7XG4gICAgICBcbiAgICAgIGxldCBuZXdUcmltU3RhcnQgPSBvcmlnaW5hbFRyaW1TdGFydFJlZi5jdXJyZW50O1xuICAgICAgbGV0IG5ld1RyaW1FbmQgPSBvcmlnaW5hbFRyaW1FbmRSZWYuY3VycmVudDtcbiAgICAgIFxuICAgICAgaWYgKGRyYWdnaW5nRWRnZSA9PT0gJ2xlZnQnKSB7XG4gICAgICAgIG5ld1RyaW1TdGFydCA9IE1hdGgubWF4KDAsIG9yaWdpbmFsVHJpbVN0YXJ0UmVmLmN1cnJlbnQgKyBkZWx0YVRpbWUpO1xuICAgICAgICBuZXdUcmltU3RhcnQgPSBzbmFwKG5ld1RyaW1TdGFydCwgc25hcFRvR3JpZCk7XG4gICAgICB9IGVsc2UgaWYgKGRyYWdnaW5nRWRnZSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICBuZXdUcmltRW5kID0gTWF0aC5taW4oY2xpcC5kdXJhdGlvbiwgb3JpZ2luYWxUcmltRW5kUmVmLmN1cnJlbnQgKyBkZWx0YVRpbWUpO1xuICAgICAgICBuZXdUcmltRW5kID0gc25hcChuZXdUcmltRW5kLCBzbmFwVG9HcmlkKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVmFsaWRhdGUgdHJpbSByYW5nZVxuICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHZhbGlkYXRlVHJpbVJhbmdlKG5ld1RyaW1TdGFydCwgbmV3VHJpbUVuZCwgY2xpcC5kdXJhdGlvbik7XG4gICAgICBcbiAgICAgIGlmICh2YWxpZGF0aW9uLmlzVmFsaWQpIHtcbiAgICAgICAgc2V0RHJhZnRUcmltU3RhcnQobmV3VHJpbVN0YXJ0KTtcbiAgICAgICAgc2V0RHJhZnRUcmltRW5kKG5ld1RyaW1FbmQpO1xuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIHRvb2x0aXBcbiAgICAgICAgc2V0VG9vbHRpcChwcmV2ID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICB4OiBlLmNsaWVudFgsXG4gICAgICAgICAgdGltZVNlY29uZHM6IGRyYWdnaW5nRWRnZSA9PT0gJ2xlZnQnID8gbmV3VHJpbVN0YXJ0IDogbmV3VHJpbUVuZCxcbiAgICAgICAgICBtZXNzYWdlOiB2YWxpZGF0aW9uLm1lc3NhZ2VcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2hvdyBpbnZhbGlkIHN0YXRlXG4gICAgICAgIHNldFRvb2x0aXAocHJldiA9PiAoe1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgeDogZS5jbGllbnRYLFxuICAgICAgICAgIG1lc3NhZ2U6IHZhbGlkYXRpb24ubWVzc2FnZVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZU1vdXNlVXAgPSAoKSA9PiB7XG4gICAgICBpZiAoIWlzRHJhZ2dpbmdFZGdlKSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIFZhbGlkYXRlIGZpbmFsIHRyaW0gcmFuZ2VcbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSB2YWxpZGF0ZVRyaW1SYW5nZShkcmFmdFRyaW1TdGFydCwgZHJhZnRUcmltRW5kLCBjbGlwLmR1cmF0aW9uKTtcbiAgICAgIFxuICAgICAgaWYgKHZhbGlkYXRpb24uaXNWYWxpZCAmJiBvblRyaW1DaGFuZ2UpIHtcbiAgICAgICAgb25UcmltQ2hhbmdlKGNsaXAuaWQsIGRyYWZ0VHJpbVN0YXJ0LCBkcmFmdFRyaW1FbmQpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBSZXNldCBzdGF0ZVxuICAgICAgc2V0SXNEcmFnZ2luZ0VkZ2UoZmFsc2UpO1xuICAgICAgc2V0RHJhZ2dpbmdFZGdlKG51bGwpO1xuICAgICAgc2V0VG9vbHRpcCh7IHZpc2libGU6IGZhbHNlLCB4OiAwLCB5OiAwLCB0aW1lU2Vjb25kczogMCwgbWVzc2FnZTogJycgfSk7XG4gICAgfTtcblxuICAgIGlmIChpc0RyYWdnaW5nRWRnZSkge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwKTtcbiAgICB9O1xuICB9LCBbaXNEcmFnZ2luZ0VkZ2UsIGRyYWdnaW5nRWRnZSwgZHJhZnRUcmltU3RhcnQsIGRyYWZ0VHJpbUVuZCwgY2xpcC5pZCwgY2xpcC5kdXJhdGlvbiwgem9vbUxldmVsLCBzbmFwVG9HcmlkLCBvblRyaW1DaGFuZ2VdKTtcblxuICBjb25zdCBoYW5kbGVDbGljayA9IChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBvblNlbGVjdCgpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURlbGV0ZSA9IChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBvbkRlbGV0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZU1vdXNlRW50ZXIgPSAoZSkgPT4ge1xuICAgIHNldElzSG92ZXJlZCh0cnVlKTtcbiAgICBcbiAgICAvLyBTaG93IGhvdmVyIGNhcmQgd2l0aCBmdWxsIGZpbGVuYW1lIGFuZCBvcmlnaW5hbCBkdXJhdGlvblxuICAgIGlmICghaXNEcmFnZ2luZ0VkZ2UgJiYgYmxvY2tSZWYuY3VycmVudCkge1xuICAgICAgY29uc3QgcmVjdCA9IGJsb2NrUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBzZXRIb3ZlckNhcmQoe1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICB4OiByZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMixcbiAgICAgICAgeTogcmVjdC50b3AgLSA1MCAvLyBQb3NpdGlvbiB3ZWxsIGFib3ZlIHRoZSBjbGlwXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlTW91c2VMZWF2ZSA9ICgpID0+IHtcbiAgICBzZXRJc0hvdmVyZWQoZmFsc2UpO1xuICAgIHNldEhvdmVyQ2FyZCh7IHZpc2libGU6IGZhbHNlLCB4OiAwLCB5OiAwIH0pO1xuICAgIGlmICghaXNEcmFnZ2luZ0VkZ2UpIHtcbiAgICAgIHNldFRvb2x0aXAoeyB2aXNpYmxlOiBmYWxzZSwgeDogMCwgeTogMCwgdGltZVNlY29uZHM6IDAsIG1lc3NhZ2U6ICcnIH0pO1xuICAgIH1cbiAgfTtcblxuICAvLyBDYWxjdWxhdGUgY3VycmVudCB3aWR0aCBiYXNlZCBvbiBkcmFmdCB0cmltIHZhbHVlc1xuICBjb25zdCBjdXJyZW50V2lkdGggPSB0aW1lVG9QeChkcmFmdFRyaW1FbmQgLSBkcmFmdFRyaW1TdGFydCwgem9vbUxldmVsKTtcbiAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gcG9zaXRpb247IC8vIFRyYWNrQXJlYSBoYW5kbGVzIHRyaW1TdGFydCBwb3NpdGlvbmluZ1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxkaXZcbiAgICAgICAgcmVmPXtibG9ja1JlZn1cbiAgICAgICAgY2xhc3NOYW1lPXtgY2xpcC1ibG9jayAke2lzU2VsZWN0ZWQgPyAnc2VsZWN0ZWQnIDogJyd9ICR7aXNEcmFnZ2luZ0VkZ2UgPyAnZHJhZ2dpbmcnIDogJyd9ICR7aXNIb3ZlcmVkID8gJ2hvdmVyZWQnIDogJyd9YH1cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICB3aWR0aDogYCR7Y3VycmVudFdpZHRofXB4YCxcbiAgICAgICAgICBsZWZ0OiBgJHtjdXJyZW50UG9zaXRpb259cHhgLFxuICAgICAgICAgIG1pbldpZHRoOiAnMjBweCcgLy8gRW5zdXJlIG1pbmltdW0gdmlzaWJpbGl0eVxuICAgICAgICB9fVxuICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbGlja31cbiAgICAgICAgb25Nb3VzZUVudGVyPXtoYW5kbGVNb3VzZUVudGVyfVxuICAgICAgICBvbk1vdXNlTGVhdmU9e2hhbmRsZU1vdXNlTGVhdmV9XG4gICAgICAgIHJvbGU9XCJsaXN0aXRlbVwiXG4gICAgICAgIHRhYkluZGV4PXswfVxuICAgICAgICBvbktleURvd249eyhlKSA9PiB7XG4gICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5ID09PSAnICcpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIG9uU2VsZWN0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9fVxuICAgICAgICBhcmlhLWxhYmVsPXtgQ2xpcDogJHtjbGlwLmZpbGVOYW1lfSwgRHVyYXRpb246ICR7Zm9ybWF0RHVyYXRpb24oY2xpcC5kdXJhdGlvbil9YH1cbiAgICAgID5cbiAgICAgICAgey8qIExlZnQgdHJpbSBoYW5kbGUgKi99XG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgY2xhc3NOYW1lPXtgdHJpbS1oYW5kbGUgbGVmdCAke2lzSG92ZXJlZCB8fCBpc0RyYWdnaW5nRWRnZSA/ICd2aXNpYmxlJyA6ICcnfWB9XG4gICAgICAgICAgb25Nb3VzZURvd249eyhlKSA9PiBoYW5kbGVFZGdlTW91c2VEb3duKGUsICdsZWZ0Jyl9XG4gICAgICAgICAgdGl0bGU9XCJEcmFnIHRvIHRyaW0gc3RhcnRcIlxuICAgICAgICAvPlxuICAgICAgICBcbiAgICAgICAgey8qIFJpZ2h0IHRyaW0gaGFuZGxlICovfVxuICAgICAgICA8ZGl2IFxuICAgICAgICAgIGNsYXNzTmFtZT17YHRyaW0taGFuZGxlIHJpZ2h0ICR7aXNIb3ZlcmVkIHx8IGlzRHJhZ2dpbmdFZGdlID8gJ3Zpc2libGUnIDogJyd9YH1cbiAgICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IGhhbmRsZUVkZ2VNb3VzZURvd24oZSwgJ3JpZ2h0Jyl9XG4gICAgICAgICAgdGl0bGU9XCJEcmFnIHRvIHRyaW0gZW5kXCJcbiAgICAgICAgLz5cblxuICAgICAgICB7LyogRW5oYW5jZWQgdGh1bWJuYWlsIHdpdGggbGF6eSBsb2FkaW5nICovfVxuICAgICAgICA8ZGl2IFxuICAgICAgICAgIGNsYXNzTmFtZT1cImNsaXAtdGh1bWJuYWlsXCIgXG4gICAgICAgICAgcmVmPXtlbGVtZW50UmVmfVxuICAgICAgICAgIHN0eWxlPXtpc0xvYWRlZCAmJiBjYWNoZWRTcmMgPyB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHtjYWNoZWRTcmN9KWAsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kU2l6ZTogJ2F1dG8gMTAwJScsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kUmVwZWF0OiAncmVwZWF0LXgnLFxuICAgICAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uOiAnbGVmdCBjZW50ZXInXG4gICAgICAgICAgfSA6IHt9fVxuICAgICAgICA+XG4gICAgICAgICAge2lzTG9hZGVkICYmIGNhY2hlZFNyYyA/IG51bGwgOiBoYXNFcnJvciA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGh1bWJuYWlsLXBsYWNlaG9sZGVyIGVycm9yXCI+XG4gICAgICAgICAgICAgIDxzcGFuPvCfk7k8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aHVtYm5haWwtcGxhY2Vob2xkZXIgbG9hZGluZ1wiPlxuICAgICAgICAgICAgICA8c3Bhbj7ij7M8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogRmlsZW5hbWUgb3ZlcmxheSAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGlwLWZpbGVuYW1lLW92ZXJsYXlcIj5cbiAgICAgICAgICB7ZWxsaXBzaXplKGNsaXAuZmlsZU5hbWUsIDE1KX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIFRyaW1tZWQgZHVyYXRpb24gb3ZlcmxheSAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGlwLWR1cmF0aW9uLW92ZXJsYXlcIj5cbiAgICAgICAgICB7Zm9ybWF0VHJpbW1lZER1cmF0aW9uKGRyYWZ0VHJpbVN0YXJ0LCBkcmFmdFRyaW1FbmQpfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiY2xpcC1kZWxldGVcIlxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZURlbGV0ZX1cbiAgICAgICAgICB0aXRsZT1cIkRlbGV0ZSBjbGlwXCJcbiAgICAgICAgICBhcmlhLWxhYmVsPXtgRGVsZXRlICR7Y2xpcC5maWxlTmFtZX1gfVxuICAgICAgICA+XG4gICAgICAgICAgPFRyYXNoMiBzaXplPXsxMn0gLz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgey8qIFRvb2x0aXAgZm9yIGRyYWcgb3BlcmF0aW9ucyAqL31cbiAgICAgIDxUb29sdGlwIHsuLi50b29sdGlwfSAvPlxuICAgICAgXG4gICAgICB7LyogSG92ZXIgY2FyZCBmb3IgY2xpcCBpbmZvcm1hdGlvbiAqL31cbiAgICAgIHtob3ZlckNhcmQudmlzaWJsZSAmJiAhaXNEcmFnZ2luZ0VkZ2UgJiYgKFxuICAgICAgICA8ZGl2IFxuICAgICAgICAgIGNsYXNzTmFtZT1cImNsaXAtaG92ZXItY2FyZFwiXG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGxlZnQ6IGAke2hvdmVyQ2FyZC54fXB4YCxcbiAgICAgICAgICAgIHRvcDogYCR7aG92ZXJDYXJkLnl9cHhgLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgtNTAlKSdcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJob3Zlci1jYXJkLWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaG92ZXItY2FyZC1maWxlbmFtZVwiPntjbGlwLmZpbGVOYW1lfTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJob3Zlci1jYXJkLWR1cmF0aW9uXCI+XG4gICAgICAgICAgICAgIE9yaWdpbmFsOiB7Zm9ybWF0RHVyYXRpb24oY2xpcC5kdXJhdGlvbil9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaG92ZXItY2FyZC10cmltbWVkXCI+XG4gICAgICAgICAgICAgIFRyaW1tZWQ6IHtmb3JtYXRUcmltbWVkRHVyYXRpb24oZHJhZnRUcmltU3RhcnQsIGRyYWZ0VHJpbUVuZCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhvdmVyLWNhcmQtYXJyb3dcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvPlxuICApO1xufSJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwidXNlRWZmZWN0IiwiVHJhc2gyIiwiZm9ybWF0RHVyYXRpb24iLCJlbGxpcHNpemUiLCJmb3JtYXRUcmltbWVkRHVyYXRpb24iLCJ0aW1lVG9QeCIsInB4VG9UaW1lIiwic25hcCIsInZhbGlkYXRlVHJpbVJhbmdlIiwidXNlVGh1bWJuYWlsUHJlbG9hZCIsIlRvb2x0aXAiLCJDbGlwQmxvY2siLCJjbGlwIiwiaXNTZWxlY3RlZCIsIm9uU2VsZWN0Iiwib25EZWxldGUiLCJ3aWR0aCIsInBvc2l0aW9uIiwiem9vbUxldmVsIiwic25hcFRvR3JpZCIsIm9uVHJpbUNoYW5nZSIsImlzRHJhZ2dpbmdFZGdlIiwic2V0SXNEcmFnZ2luZ0VkZ2UiLCJkcmFnZ2luZ0VkZ2UiLCJzZXREcmFnZ2luZ0VkZ2UiLCJkcmFmdFRyaW1TdGFydCIsInNldERyYWZ0VHJpbVN0YXJ0IiwidHJpbVN0YXJ0IiwiZHJhZnRUcmltRW5kIiwic2V0RHJhZnRUcmltRW5kIiwidHJpbUVuZCIsInRvb2x0aXAiLCJzZXRUb29sdGlwIiwidmlzaWJsZSIsIngiLCJ5IiwidGltZVNlY29uZHMiLCJtZXNzYWdlIiwiaXNIb3ZlcmVkIiwic2V0SXNIb3ZlcmVkIiwiaG92ZXJDYXJkIiwic2V0SG92ZXJDYXJkIiwiYmxvY2tSZWYiLCJzdGFydFhSZWYiLCJvcmlnaW5hbFRyaW1TdGFydFJlZiIsIm9yaWdpbmFsVHJpbUVuZFJlZiIsImVsZW1lbnRSZWYiLCJpc0xvYWRlZCIsImhhc0Vycm9yIiwiY2FjaGVkU3JjIiwiaWQiLCJ0aHVtYm5haWwiLCJoYW5kbGVFZGdlTW91c2VEb3duIiwiZSIsImVkZ2UiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImN1cnJlbnQiLCJjbGllbnRYIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsImhhbmRsZU1vdXNlTW92ZSIsImRlbHRhWCIsImRlbHRhVGltZSIsIm5ld1RyaW1TdGFydCIsIm5ld1RyaW1FbmQiLCJNYXRoIiwibWF4IiwibWluIiwiZHVyYXRpb24iLCJ2YWxpZGF0aW9uIiwiaXNWYWxpZCIsInByZXYiLCJoYW5kbGVNb3VzZVVwIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZUNsaWNrIiwiaGFuZGxlRGVsZXRlIiwiaGFuZGxlTW91c2VFbnRlciIsImxlZnQiLCJoYW5kbGVNb3VzZUxlYXZlIiwiY3VycmVudFdpZHRoIiwiY3VycmVudFBvc2l0aW9uIiwiY3JlYXRlRWxlbWVudCIsIkZyYWdtZW50IiwicmVmIiwiY2xhc3NOYW1lIiwic3R5bGUiLCJtaW5XaWR0aCIsIm9uQ2xpY2siLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlTGVhdmUiLCJyb2xlIiwidGFiSW5kZXgiLCJvbktleURvd24iLCJrZXkiLCJmaWxlTmFtZSIsIm9uTW91c2VEb3duIiwidGl0bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJiYWNrZ3JvdW5kU2l6ZSIsImJhY2tncm91bmRSZXBlYXQiLCJiYWNrZ3JvdW5kUG9zaXRpb24iLCJzaXplIiwidHJhbnNmb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/ClipBlock.jsx\n\n}");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("32cc602410686ab55a65")
/******/ })();
/******/ 
/******/ }
);