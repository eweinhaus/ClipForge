"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdateclipforge"]("main_window",{

/***/ "./src/components/VideoPreview.jsx":
/*!*****************************************!*\
  !*** ./src/components/VideoPreview.jsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ VideoPreview)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lucide-react */ \"./node_modules/lucide-react/dist/esm/icons/triangle-alert.js\");\n/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ \"./node_modules/lucide-react/dist/esm/icons/pause.js\");\n/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ \"./node_modules/lucide-react/dist/esm/icons/play.js\");\n/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ \"./node_modules/lucide-react/dist/esm/icons/video.js\");\n/* harmony import */ var _utils_formatters__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/formatters */ \"./src/utils/formatters.js\");\n/* harmony import */ var _VideoPreview_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./VideoPreview.css */ \"./src/components/VideoPreview.css\");\n\n\n\n\n\n/**\n * VideoPreview Component\n * Displays video player with controls for the selected clip\n */\nfunction VideoPreview({\n  clip,\n  onPlaybackChange,\n  seekToTime\n}) {\n  const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const [isPlaying, setIsPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [currentTime, setCurrentTime] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n  const [duration, setDuration] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n  const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [hasError, setHasError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n\n  // Reset state when clip changes\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!clip) {\n      setIsPlaying(false);\n      setCurrentTime(0);\n      setDuration(0);\n      setHasError(false);\n      return;\n    }\n\n    // Reset playback state for new clip\n    setIsPlaying(false);\n    setCurrentTime(clip.trimStart || 0);\n    setDuration(clip.duration || 0);\n    setHasError(false);\n    setIsLoading(true);\n\n    // Load new video source\n    if (videoRef.current) {\n      const video = videoRef.current;\n\n      // Prefer custom protocol to avoid file:// restrictions\n      const rawPath = clip.filePath.replace(/^file:\\/\\//, '');\n      const videoSrc = `local-media://${rawPath}`;\n      video.src = videoSrc;\n      video.load();\n      video.onloadedmetadata = () => {\n        handleLoadedMetadata();\n      };\n      video.oncanplay = () => {\n        // Only seek to trim start if video is ready and we have a trim start > 0\n        if (clip.trimStart > 0 && videoRef.current) {\n          const currentTime = videoRef.current.currentTime;\n          // Only seek if we're not already at the trim start\n          if (Math.abs(currentTime - clip.trimStart) > 0.1) {\n            videoRef.current.currentTime = clip.trimStart;\n            setCurrentTime(clip.trimStart);\n          }\n        }\n      };\n      video.onerror = e => {\n        const mediaError = video.error || {};\n        console.error('[Video] error event', {\n          src: videoSrc,\n          code: mediaError.code,\n          message: mediaError.message,\n          networkState: video.networkState,\n          readyState: video.readyState\n        });\n        console.error('Video element error:', e);\n      };\n      video.onstalled = () => console.warn('[Video] stalled', {\n        src: videoSrc\n      });\n      video.onsuspend = () => console.warn('[Video] suspend', {\n        src: videoSrc\n      });\n      video.onwaiting = () => console.warn('[Video] waiting', {\n        src: videoSrc\n      });\n    }\n  }, [clip]);\n\n  // Handle video events\n  const handleLoadedMetadata = () => {\n    if (videoRef.current) {\n      setDuration(videoRef.current.duration || 0);\n      setIsLoading(false);\n    }\n  };\n  const handleTimeUpdate = () => {\n    if (videoRef.current && clip) {\n      const video = videoRef.current;\n      let newTime = video.currentTime;\n\n      // Clamp time within trim range\n      const trimStart = clip.trimStart || 0;\n      const trimEnd = clip.trimEnd || clip.duration || 0;\n\n      // Only clamp if we're actually outside the trim range\n      if (trimStart > 0 && newTime < trimStart) {\n        newTime = trimStart;\n        video.currentTime = trimStart;\n      } else if (trimEnd < clip.duration && newTime > trimEnd) {\n        newTime = trimEnd;\n        video.currentTime = trimEnd;\n        video.pause(); // Pause when reaching trim end\n        setIsPlaying(false);\n      }\n      setCurrentTime(newTime);\n      onPlaybackChange?.(newTime);\n    }\n  };\n  const handlePlay = () => {\n    setIsPlaying(true);\n  };\n  const handlePause = () => {\n    setIsPlaying(false);\n  };\n  const handleEnded = () => {\n    setIsPlaying(false);\n    setCurrentTime(0);\n    if (videoRef.current) {\n      videoRef.current.currentTime = 0;\n    }\n  };\n  const handleError = () => {\n    setHasError(true);\n    setIsLoading(false);\n    setIsPlaying(false);\n  };\n\n  // Playback controls\n  const togglePlayPause = () => {\n    if (!videoRef.current || hasError) {\n      return;\n    }\n    const video = videoRef.current;\n    const trimStart = clip?.trimStart || 0;\n    if (isPlaying) {\n      video.pause();\n    } else {\n      // Ensure we're at trim start if needed\n      if (trimStart > 0 && video.currentTime < trimStart) {\n        video.currentTime = trimStart;\n      }\n      video.play();\n    }\n  };\n  const handleScrub = e => {\n    if (!videoRef.current || hasError || !clip) return;\n    const newTime = parseFloat(e.target.value);\n    const trimStart = clip.trimStart || 0;\n    const trimEnd = clip.trimEnd || clip.duration || 0;\n\n    // Clamp scrubber value within trim range\n    const clampedTime = Math.max(trimStart, Math.min(trimEnd, newTime));\n    videoRef.current.currentTime = clampedTime;\n    setCurrentTime(clampedTime);\n  };\n\n  // Keyboard shortcut handler\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const handleKeyDown = e => {\n      if (e.code === 'Space' && clip && !hasError) {\n        e.preventDefault();\n        togglePlayPause();\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [clip, hasError, isPlaying]);\n\n  // No clip selected state\n  if (!clip) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"video-preview\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"preview-placeholder\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"empty-icon\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n      size: 80,\n      strokeWidth: 1.5\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h2\", null, \"No clip selected\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n      className: \"text-muted\"\n    }, \"Select a clip from the timeline to preview\")));\n  }\n\n  // Error state\n  if (hasError) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"video-preview\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"preview-placeholder\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"empty-icon error\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(lucide_react__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n      size: 80,\n      strokeWidth: 1.5\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h2\", null, \"Video Error\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n      className: \"text-muted\"\n    }, \"Unable to load video file\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n      className: \"text-muted\"\n    }, clip.fileName)));\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"video-preview\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"video-container\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"video\", {\n    ref: videoRef,\n    className: \"video-element\",\n    onLoadedMetadata: handleLoadedMetadata,\n    onTimeUpdate: handleTimeUpdate,\n    onPlay: handlePlay,\n    onPause: handlePause,\n    onEnded: handleEnded,\n    onError: handleError,\n    preload: \"metadata\"\n  }), isLoading && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"video-loading\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"loading-spinner\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, \"Loading video...\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"video-controls\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"control-btn play-btn\",\n    onClick: togglePlayPause,\n    disabled: isLoading,\n    title: isPlaying ? 'Pause (Space)' : 'Play (Space)'\n  }, isPlaying ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    size: 18\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    size: 18\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"time-display\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, (0,_utils_formatters__WEBPACK_IMPORTED_MODULE_5__.formatDuration)(currentTime)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"time-separator\"\n  }, \"/\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, (0,_utils_formatters__WEBPACK_IMPORTED_MODULE_5__.formatDuration)(duration))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"scrubber-container\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    type: \"range\",\n    className: \"scrubber\",\n    min: clip?.trimStart || 0,\n    max: clip?.trimEnd || duration || 0,\n    value: currentTime,\n    onChange: handleScrub,\n    step: \"0.1\",\n    disabled: isLoading || duration === 0\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"video-metadata\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"metadata-item\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"metadata-label\"\n  }, \"File:\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"metadata-value\",\n    title: clip.fileName\n  }, clip.fileName)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"metadata-item\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"metadata-label\"\n  }, \"Res:\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"metadata-value\"\n  }, (0,_utils_formatters__WEBPACK_IMPORTED_MODULE_5__.formatResolution)(clip.width, clip.height))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"metadata-item\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"metadata-label\"\n  }, \"Dur:\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"metadata-value\"\n  }, (0,_utils_formatters__WEBPACK_IMPORTED_MODULE_5__.formatDuration)((clip.trimEnd || clip.duration) - (clip.trimStart || 0))))));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZUFDTjlFLDBEQUFBO0lBQUsyRSxTQUFTLEVBQUM7RUFBZSxnQkFDNUIzRSwwREFBQTtJQUFNMkUsU0FBUyxFQUFDO0VBQWdCLEdBQUMsTUFBVSxDQUFDLGVBQzVDM0UsMERBQUE7SUFBTTJFLFNBQVMsRUFBQztFQUFnQixHQUM3QmxFLG1FQUFnQixDQUFDRSxJQUFJLENBQUNrRixLQUFLLEVBQUVsRixJQUFJLENBQUNtRixNQUFNLENBQ3JDLENBQ0gsQ0FBQyxlQUNOOUYsMERBQUE7SUFBSzJFLFNBQVMsRUFBQztFQUFlLGdCQUM1QjNFLDBEQUFBO0lBQU0yRSxTQUFTLEVBQUM7RUFBZ0IsR0FBQyxNQUFVLENBQUMsZUFDNUMzRSwwREFBQTtJQUFNMkUsU0FBUyxFQUFDO0VBQWdCLEdBQzdCbkUsaUVBQWMsQ0FBQyxDQUFDRyxJQUFJLENBQUMyQyxPQUFPLElBQUkzQyxJQUFJLENBQUNRLFFBQVEsS0FBS1IsSUFBSSxDQUFDYyxTQUFTLElBQUksQ0FBQyxDQUFDLENBQ25FLENBQ0gsQ0FDRixDQUNGLENBQUM7QUFFViIsInNvdXJjZXMiOlsid2VicGFjazovL2NsaXBmb3JnZS8uL3NyYy9jb21wb25lbnRzL1ZpZGVvUHJldmlldy5qc3g/NTgxNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUGxheSwgUGF1c2UsIFZpZGVvLCBBbGVydFRyaWFuZ2xlIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IGZvcm1hdER1cmF0aW9uLCBmb3JtYXRSZXNvbHV0aW9uIH0gZnJvbSAnLi4vdXRpbHMvZm9ybWF0dGVycyc7XG5pbXBvcnQgJy4vVmlkZW9QcmV2aWV3LmNzcyc7XG5cbi8qKlxuICogVmlkZW9QcmV2aWV3IENvbXBvbmVudFxuICogRGlzcGxheXMgdmlkZW8gcGxheWVyIHdpdGggY29udHJvbHMgZm9yIHRoZSBzZWxlY3RlZCBjbGlwXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFZpZGVvUHJldmlldyh7IGNsaXAsIG9uUGxheWJhY2tDaGFuZ2UsIHNlZWtUb1RpbWUgfSkge1xuICBjb25zdCB2aWRlb1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW2lzUGxheWluZywgc2V0SXNQbGF5aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2N1cnJlbnRUaW1lLCBzZXRDdXJyZW50VGltZV0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2R1cmF0aW9uLCBzZXREdXJhdGlvbl0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2hhc0Vycm9yLCBzZXRIYXNFcnJvcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gUmVzZXQgc3RhdGUgd2hlbiBjbGlwIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWNsaXApIHtcbiAgICAgIHNldElzUGxheWluZyhmYWxzZSk7XG4gICAgICBzZXRDdXJyZW50VGltZSgwKTtcbiAgICAgIHNldER1cmF0aW9uKDApO1xuICAgICAgc2V0SGFzRXJyb3IoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFJlc2V0IHBsYXliYWNrIHN0YXRlIGZvciBuZXcgY2xpcFxuICAgIHNldElzUGxheWluZyhmYWxzZSk7XG4gICAgc2V0Q3VycmVudFRpbWUoY2xpcC50cmltU3RhcnQgfHwgMCk7XG4gICAgc2V0RHVyYXRpb24oY2xpcC5kdXJhdGlvbiB8fCAwKTtcbiAgICBzZXRIYXNFcnJvcihmYWxzZSk7XG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuXG4gICAgLy8gTG9hZCBuZXcgdmlkZW8gc291cmNlXG4gICAgaWYgKHZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNvbnN0IHZpZGVvID0gdmlkZW9SZWYuY3VycmVudDtcbiAgICAgIFxuICAgICAgLy8gUHJlZmVyIGN1c3RvbSBwcm90b2NvbCB0byBhdm9pZCBmaWxlOi8vIHJlc3RyaWN0aW9uc1xuICAgICAgY29uc3QgcmF3UGF0aCA9IGNsaXAuZmlsZVBhdGgucmVwbGFjZSgvXmZpbGU6XFwvXFwvLywgJycpO1xuICAgICAgY29uc3QgdmlkZW9TcmMgPSBgbG9jYWwtbWVkaWE6Ly8ke3Jhd1BhdGh9YDtcbiAgICAgIFxuICAgICAgdmlkZW8uc3JjID0gdmlkZW9TcmM7XG4gICAgICB2aWRlby5sb2FkKCk7XG5cbiAgICAgIHZpZGVvLm9ubG9hZGVkbWV0YWRhdGEgPSAoKSA9PiB7XG4gICAgICAgIGhhbmRsZUxvYWRlZE1ldGFkYXRhKCk7XG4gICAgICB9O1xuXG4gICAgICB2aWRlby5vbmNhbnBsYXkgPSAoKSA9PiB7XG4gICAgICAgIC8vIE9ubHkgc2VlayB0byB0cmltIHN0YXJ0IGlmIHZpZGVvIGlzIHJlYWR5IGFuZCB3ZSBoYXZlIGEgdHJpbSBzdGFydCA+IDBcbiAgICAgICAgaWYgKGNsaXAudHJpbVN0YXJ0ID4gMCAmJiB2aWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSB2aWRlb1JlZi5jdXJyZW50LmN1cnJlbnRUaW1lO1xuICAgICAgICAgIC8vIE9ubHkgc2VlayBpZiB3ZSdyZSBub3QgYWxyZWFkeSBhdCB0aGUgdHJpbSBzdGFydFxuICAgICAgICAgIGlmIChNYXRoLmFicyhjdXJyZW50VGltZSAtIGNsaXAudHJpbVN0YXJ0KSA+IDAuMSkge1xuICAgICAgICAgICAgdmlkZW9SZWYuY3VycmVudC5jdXJyZW50VGltZSA9IGNsaXAudHJpbVN0YXJ0O1xuICAgICAgICAgICAgc2V0Q3VycmVudFRpbWUoY2xpcC50cmltU3RhcnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmlkZW8ub25lcnJvciA9IChlKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lZGlhRXJyb3IgPSB2aWRlby5lcnJvciB8fCB7fTtcbiAgICAgICAgY29uc29sZS5lcnJvcignW1ZpZGVvXSBlcnJvciBldmVudCcsIHtcbiAgICAgICAgICBzcmM6IHZpZGVvU3JjLFxuICAgICAgICAgIGNvZGU6IG1lZGlhRXJyb3IuY29kZSxcbiAgICAgICAgICBtZXNzYWdlOiBtZWRpYUVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgbmV0d29ya1N0YXRlOiB2aWRlby5uZXR3b3JrU3RhdGUsXG4gICAgICAgICAgcmVhZHlTdGF0ZTogdmlkZW8ucmVhZHlTdGF0ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ZpZGVvIGVsZW1lbnQgZXJyb3I6JywgZSk7XG4gICAgICB9O1xuXG4gICAgICB2aWRlby5vbnN0YWxsZWQgPSAoKSA9PiBjb25zb2xlLndhcm4oJ1tWaWRlb10gc3RhbGxlZCcsIHsgc3JjOiB2aWRlb1NyYyB9KTtcbiAgICAgIHZpZGVvLm9uc3VzcGVuZCA9ICgpID0+IGNvbnNvbGUud2FybignW1ZpZGVvXSBzdXNwZW5kJywgeyBzcmM6IHZpZGVvU3JjIH0pO1xuICAgICAgdmlkZW8ub253YWl0aW5nID0gKCkgPT4gY29uc29sZS53YXJuKCdbVmlkZW9dIHdhaXRpbmcnLCB7IHNyYzogdmlkZW9TcmMgfSk7XG4gICAgfVxuICB9LCBbY2xpcF0pO1xuXG4gIC8vIEhhbmRsZSB2aWRlbyBldmVudHNcbiAgY29uc3QgaGFuZGxlTG9hZGVkTWV0YWRhdGEgPSAoKSA9PiB7XG4gICAgaWYgKHZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgIHNldER1cmF0aW9uKHZpZGVvUmVmLmN1cnJlbnQuZHVyYXRpb24gfHwgMCk7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVUaW1lVXBkYXRlID0gKCkgPT4ge1xuICAgIGlmICh2aWRlb1JlZi5jdXJyZW50ICYmIGNsaXApIHtcbiAgICAgIGNvbnN0IHZpZGVvID0gdmlkZW9SZWYuY3VycmVudDtcbiAgICAgIGxldCBuZXdUaW1lID0gdmlkZW8uY3VycmVudFRpbWU7XG4gICAgICBcbiAgICAgIC8vIENsYW1wIHRpbWUgd2l0aGluIHRyaW0gcmFuZ2VcbiAgICAgIGNvbnN0IHRyaW1TdGFydCA9IGNsaXAudHJpbVN0YXJ0IHx8IDA7XG4gICAgICBjb25zdCB0cmltRW5kID0gY2xpcC50cmltRW5kIHx8IGNsaXAuZHVyYXRpb24gfHwgMDtcbiAgICAgIFxuICAgICAgLy8gT25seSBjbGFtcCBpZiB3ZSdyZSBhY3R1YWxseSBvdXRzaWRlIHRoZSB0cmltIHJhbmdlXG4gICAgICBpZiAodHJpbVN0YXJ0ID4gMCAmJiBuZXdUaW1lIDwgdHJpbVN0YXJ0KSB7XG4gICAgICAgIG5ld1RpbWUgPSB0cmltU3RhcnQ7XG4gICAgICAgIHZpZGVvLmN1cnJlbnRUaW1lID0gdHJpbVN0YXJ0O1xuICAgICAgfSBlbHNlIGlmICh0cmltRW5kIDwgY2xpcC5kdXJhdGlvbiAmJiBuZXdUaW1lID4gdHJpbUVuZCkge1xuICAgICAgICBuZXdUaW1lID0gdHJpbUVuZDtcbiAgICAgICAgdmlkZW8uY3VycmVudFRpbWUgPSB0cmltRW5kO1xuICAgICAgICB2aWRlby5wYXVzZSgpOyAvLyBQYXVzZSB3aGVuIHJlYWNoaW5nIHRyaW0gZW5kXG4gICAgICAgIHNldElzUGxheWluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldEN1cnJlbnRUaW1lKG5ld1RpbWUpO1xuICAgICAgb25QbGF5YmFja0NoYW5nZT8uKG5ld1RpbWUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVQbGF5ID0gKCkgPT4ge1xuICAgIHNldElzUGxheWluZyh0cnVlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVQYXVzZSA9ICgpID0+IHtcbiAgICBzZXRJc1BsYXlpbmcoZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUVuZGVkID0gKCkgPT4ge1xuICAgIHNldElzUGxheWluZyhmYWxzZSk7XG4gICAgc2V0Q3VycmVudFRpbWUoMCk7XG4gICAgaWYgKHZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgIHZpZGVvUmVmLmN1cnJlbnQuY3VycmVudFRpbWUgPSAwO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVFcnJvciA9ICgpID0+IHtcbiAgICBzZXRIYXNFcnJvcih0cnVlKTtcbiAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIHNldElzUGxheWluZyhmYWxzZSk7XG4gIH07XG5cbiAgLy8gUGxheWJhY2sgY29udHJvbHNcbiAgY29uc3QgdG9nZ2xlUGxheVBhdXNlID0gKCkgPT4ge1xuICAgIGlmICghdmlkZW9SZWYuY3VycmVudCB8fCBoYXNFcnJvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHZpZGVvID0gdmlkZW9SZWYuY3VycmVudDtcbiAgICBjb25zdCB0cmltU3RhcnQgPSBjbGlwPy50cmltU3RhcnQgfHwgMDtcbiAgICBcbiAgICBpZiAoaXNQbGF5aW5nKSB7XG4gICAgICB2aWRlby5wYXVzZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBFbnN1cmUgd2UncmUgYXQgdHJpbSBzdGFydCBpZiBuZWVkZWRcbiAgICAgIGlmICh0cmltU3RhcnQgPiAwICYmIHZpZGVvLmN1cnJlbnRUaW1lIDwgdHJpbVN0YXJ0KSB7XG4gICAgICAgIHZpZGVvLmN1cnJlbnRUaW1lID0gdHJpbVN0YXJ0O1xuICAgICAgfVxuICAgICAgdmlkZW8ucGxheSgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVTY3J1YiA9IChlKSA9PiB7XG4gICAgaWYgKCF2aWRlb1JlZi5jdXJyZW50IHx8IGhhc0Vycm9yIHx8ICFjbGlwKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgbmV3VGltZSA9IHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpO1xuICAgIGNvbnN0IHRyaW1TdGFydCA9IGNsaXAudHJpbVN0YXJ0IHx8IDA7XG4gICAgY29uc3QgdHJpbUVuZCA9IGNsaXAudHJpbUVuZCB8fCBjbGlwLmR1cmF0aW9uIHx8IDA7XG4gICAgXG4gICAgLy8gQ2xhbXAgc2NydWJiZXIgdmFsdWUgd2l0aGluIHRyaW0gcmFuZ2VcbiAgICBjb25zdCBjbGFtcGVkVGltZSA9IE1hdGgubWF4KHRyaW1TdGFydCwgTWF0aC5taW4odHJpbUVuZCwgbmV3VGltZSkpO1xuICAgIFxuICAgIHZpZGVvUmVmLmN1cnJlbnQuY3VycmVudFRpbWUgPSBjbGFtcGVkVGltZTtcbiAgICBzZXRDdXJyZW50VGltZShjbGFtcGVkVGltZSk7XG4gIH07XG5cbiAgLy8gS2V5Ym9hcmQgc2hvcnRjdXQgaGFuZGxlclxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZSkgPT4ge1xuICAgICAgaWYgKGUuY29kZSA9PT0gJ1NwYWNlJyAmJiBjbGlwICYmICFoYXNFcnJvcikge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRvZ2dsZVBsYXlQYXVzZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICB9LCBbY2xpcCwgaGFzRXJyb3IsIGlzUGxheWluZ10pO1xuXG4gIC8vIE5vIGNsaXAgc2VsZWN0ZWQgc3RhdGVcbiAgaWYgKCFjbGlwKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmlkZW8tcHJldmlld1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByZXZpZXctcGxhY2Vob2xkZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVtcHR5LWljb25cIj5cbiAgICAgICAgICAgIDxWaWRlbyBzaXplPXs4MH0gc3Ryb2tlV2lkdGg9ezEuNX0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8aDI+Tm8gY2xpcCBzZWxlY3RlZDwvaDI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiPlNlbGVjdCBhIGNsaXAgZnJvbSB0aGUgdGltZWxpbmUgdG8gcHJldmlldzwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gRXJyb3Igc3RhdGVcbiAgaWYgKGhhc0Vycm9yKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmlkZW8tcHJldmlld1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByZXZpZXctcGxhY2Vob2xkZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVtcHR5LWljb24gZXJyb3JcIj5cbiAgICAgICAgICAgIDxBbGVydFRyaWFuZ2xlIHNpemU9ezgwfSBzdHJva2VXaWR0aD17MS41fSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxoMj5WaWRlbyBFcnJvcjwvaDI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiPlVuYWJsZSB0byBsb2FkIHZpZGVvIGZpbGU8L3A+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiPntjbGlwLmZpbGVOYW1lfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInZpZGVvLXByZXZpZXdcIj5cbiAgICAgIHsvKiBWaWRlbyBDb250YWluZXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInZpZGVvLWNvbnRhaW5lclwiPlxuICAgICAgICA8dmlkZW9cbiAgICAgICAgICByZWY9e3ZpZGVvUmVmfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInZpZGVvLWVsZW1lbnRcIlxuICAgICAgICAgIG9uTG9hZGVkTWV0YWRhdGE9e2hhbmRsZUxvYWRlZE1ldGFkYXRhfVxuICAgICAgICAgIG9uVGltZVVwZGF0ZT17aGFuZGxlVGltZVVwZGF0ZX1cbiAgICAgICAgICBvblBsYXk9e2hhbmRsZVBsYXl9XG4gICAgICAgICAgb25QYXVzZT17aGFuZGxlUGF1c2V9XG4gICAgICAgICAgb25FbmRlZD17aGFuZGxlRW5kZWR9XG4gICAgICAgICAgb25FcnJvcj17aGFuZGxlRXJyb3J9XG4gICAgICAgICAgcHJlbG9hZD1cIm1ldGFkYXRhXCJcbiAgICAgICAgLz5cbiAgICAgICAgXG4gICAgICAgIHsvKiBMb2FkaW5nIG92ZXJsYXkgKi99XG4gICAgICAgIHtpc0xvYWRpbmcgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmlkZW8tbG9hZGluZ1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkaW5nLXNwaW5uZXJcIj48L2Rpdj5cbiAgICAgICAgICAgIDxwPkxvYWRpbmcgdmlkZW8uLi48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIFZpZGVvIENvbnRyb2xzICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2aWRlby1jb250cm9sc1wiPlxuICAgICAgICB7LyogUGxheS9QYXVzZSBCdXR0b24gKi99XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJjb250cm9sLWJ0biBwbGF5LWJ0blwiXG4gICAgICAgICAgb25DbGljaz17dG9nZ2xlUGxheVBhdXNlfVxuICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XG4gICAgICAgICAgdGl0bGU9e2lzUGxheWluZyA/ICdQYXVzZSAoU3BhY2UpJyA6ICdQbGF5IChTcGFjZSknfVxuICAgICAgICA+XG4gICAgICAgICAge2lzUGxheWluZyA/IDxQYXVzZSBzaXplPXsxOH0gLz4gOiA8UGxheSBzaXplPXsxOH0gLz59XG4gICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgIHsvKiBUaW1lIERpc3BsYXkgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGltZS1kaXNwbGF5XCI+XG4gICAgICAgICAgPHNwYW4+e2Zvcm1hdER1cmF0aW9uKGN1cnJlbnRUaW1lKX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGltZS1zZXBhcmF0b3JcIj4vPC9zcGFuPlxuICAgICAgICAgIDxzcGFuPntmb3JtYXREdXJhdGlvbihkdXJhdGlvbil9PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogU2NydWJiZXIgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2NydWJiZXItY29udGFpbmVyXCI+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwic2NydWJiZXJcIlxuICAgICAgICAgICAgbWluPXtjbGlwPy50cmltU3RhcnQgfHwgMH1cbiAgICAgICAgICAgIG1heD17Y2xpcD8udHJpbUVuZCB8fCBkdXJhdGlvbiB8fCAwfVxuICAgICAgICAgICAgdmFsdWU9e2N1cnJlbnRUaW1lfVxuICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVNjcnVifVxuICAgICAgICAgICAgc3RlcD1cIjAuMVwiXG4gICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8IGR1cmF0aW9uID09PSAwfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBWaWRlbyBNZXRhZGF0YSAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmlkZW8tbWV0YWRhdGFcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXRhZGF0YS1pdGVtXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWV0YWRhdGEtbGFiZWxcIj5GaWxlOjwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtZXRhZGF0YS12YWx1ZVwiIHRpdGxlPXtjbGlwLmZpbGVOYW1lfT5cbiAgICAgICAgICAgIHtjbGlwLmZpbGVOYW1lfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWV0YWRhdGEtaXRlbVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1ldGFkYXRhLWxhYmVsXCI+UmVzOjwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtZXRhZGF0YS12YWx1ZVwiPlxuICAgICAgICAgICAge2Zvcm1hdFJlc29sdXRpb24oY2xpcC53aWR0aCwgY2xpcC5oZWlnaHQpfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWV0YWRhdGEtaXRlbVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1ldGFkYXRhLWxhYmVsXCI+RHVyOjwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtZXRhZGF0YS12YWx1ZVwiPlxuICAgICAgICAgICAge2Zvcm1hdER1cmF0aW9uKChjbGlwLnRyaW1FbmQgfHwgY2xpcC5kdXJhdGlvbikgLSAoY2xpcC50cmltU3RhcnQgfHwgMCkpfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiUGxheSIsIlBhdXNlIiwiVmlkZW8iLCJBbGVydFRyaWFuZ2xlIiwiZm9ybWF0RHVyYXRpb24iLCJmb3JtYXRSZXNvbHV0aW9uIiwiVmlkZW9QcmV2aWV3IiwiY2xpcCIsIm9uUGxheWJhY2tDaGFuZ2UiLCJzZWVrVG9UaW1lIiwidmlkZW9SZWYiLCJpc1BsYXlpbmciLCJzZXRJc1BsYXlpbmciLCJjdXJyZW50VGltZSIsInNldEN1cnJlbnRUaW1lIiwiZHVyYXRpb24iLCJzZXREdXJhdGlvbiIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImhhc0Vycm9yIiwic2V0SGFzRXJyb3IiLCJ0cmltU3RhcnQiLCJjdXJyZW50IiwidmlkZW8iLCJyYXdQYXRoIiwiZmlsZVBhdGgiLCJyZXBsYWNlIiwidmlkZW9TcmMiLCJzcmMiLCJsb2FkIiwib25sb2FkZWRtZXRhZGF0YSIsImhhbmRsZUxvYWRlZE1ldGFkYXRhIiwib25jYW5wbGF5IiwiTWF0aCIsImFicyIsIm9uZXJyb3IiLCJlIiwibWVkaWFFcnJvciIsImVycm9yIiwiY29uc29sZSIsImNvZGUiLCJtZXNzYWdlIiwibmV0d29ya1N0YXRlIiwicmVhZHlTdGF0ZSIsIm9uc3RhbGxlZCIsIndhcm4iLCJvbnN1c3BlbmQiLCJvbndhaXRpbmciLCJoYW5kbGVUaW1lVXBkYXRlIiwibmV3VGltZSIsInRyaW1FbmQiLCJwYXVzZSIsImhhbmRsZVBsYXkiLCJoYW5kbGVQYXVzZSIsImhhbmRsZUVuZGVkIiwiaGFuZGxlRXJyb3IiLCJ0b2dnbGVQbGF5UGF1c2UiLCJwbGF5IiwiaGFuZGxlU2NydWIiLCJwYXJzZUZsb2F0IiwidGFyZ2V0IiwidmFsdWUiLCJjbGFtcGVkVGltZSIsIm1heCIsIm1pbiIsImhhbmRsZUtleURvd24iLCJwcmV2ZW50RGVmYXVsdCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInNpemUiLCJzdHJva2VXaWR0aCIsImZpbGVOYW1lIiwicmVmIiwib25Mb2FkZWRNZXRhZGF0YSIsIm9uVGltZVVwZGF0ZSIsIm9uUGxheSIsIm9uUGF1c2UiLCJvbkVuZGVkIiwib25FcnJvciIsInByZWxvYWQiLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJ0aXRsZSIsInR5cGUiLCJvbkNoYW5nZSIsInN0ZXAiLCJ3aWR0aCIsImhlaWdodCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/VideoPreview.jsx\n\n}");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("f0090b94f76d882b6c37")
/******/ })();
/******/ 
/******/ }
);